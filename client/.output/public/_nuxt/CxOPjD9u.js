import{_ as R,a as B,b as S}from"./Bhg-rSlI.js";import{f as A,aS as C,G as j,l as d,h as u,o as l,w as a,b as n,a as e,s as F,i as L,d as N,t as o,c,F as x,q as b}from"#entry";import{_ as P}from"./BBjs8tJp.js";import{_ as U}from"./D0XnZ3XK.js";import{u as H}from"./C8FVoTUV.js";import"./B38Xgcxb.js";import"./Cj6fZvd0.js";import"./QHQVrWkE.js";import"./CrmXzHFT.js";import"./Cu7TN0iE.js";const V={class:"container mx-auto px-6 py-10"},$={class:"max-w-4xl mx-auto"},G={class:"flex items-center justify-between mb-6"},M={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8"},q={class:"text-xl font-semibold text-emerald-600"},E={class:"text-xs text-gray-400"},z={class:"text-xl font-semibold text-red-600 dark:text-red-400"},I={class:"text-xs text-gray-400"},J={class:"text-xl font-semibold text-emerald-600"},K={class:"text-xs text-gray-400"},O={class:"text-xl font-semibold text-amber-600"},Q={class:"text-xs text-gray-400"},X={class:"grid md:grid-cols-2 gap-6 mb-8"},Y={class:"space-y-2"},Z={class:"font-medium"},ee={class:"text-sm text-gray-500"},te={class:"space-y-2"},se={class:"font-medium"},oe={class:"text-sm text-gray-500"},ae={key:1,class:"text-gray-500 text-center"},xe=A({__name:"reports",setup(ne){const s=H(),h=C();j(async()=>{const _=[s.getWebsiteAsc().catch(t=>console.error("getWebsiteAsc failed:",t)),s.getWebsiteDesc().catch(t=>console.error("getWebsiteDesc failed:",t)),s.getHealthyCount().catch(t=>console.error("getHealthyCount failed:",t)),s.getResponseTimeWebsites().catch(t=>console.error("getResponseTimeWebsites failed:",t)),s.getDownWebsites().catch(t=>console.error("getDownWebsites failed:",t))];await Promise.all(_)});const y=d(()=>s.itemsAsc??[]),f=d(()=>s.itemsDesc??[]),m=d(()=>s.itemsHealthy??{healthy_websites:{total:0,percent:0},down_websites:{total:0,percent:0}}),p=d(()=>s.itemsResponseTime??{good:{count:0,average:0},poor:{count:0,average:0}}),g=d(()=>s.itemsDown??[]),w=async()=>{try{await s.printReport()}catch{h.add({title:"Gagal mengunduh",description:"Terjadi kesalahan saat mengunduh, coba lagi nanti.",color:"error"})}};return(_,t)=>{const k=B,v=F,i=P,W=U,D=R,T=S;return l(),u(T,{class:"min-h-screen bg-gray-50 dark:bg-gray-900"},{default:a(()=>[n(D,null,{header:a(()=>[n(k,{title:"Laporan Monitoring Website"})]),body:a(()=>[e("section",V,[e("div",$,[n(i,{class:"rounded-2xl shadow-lg border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-950 transition-all hover:shadow-xl"},{default:a(()=>[e("div",G,[t[1]||(t[1]=e("h1",{class:"text-2xl font-semibold text-gray-800 dark:text-gray-100"}," Statistik Laporan ",-1)),n(v,{color:"primary",icon:"i-heroicons-document-arrow-down",loading:L(s).isLoading,onClick:w},{default:a(()=>[...t[0]||(t[0]=[N(" Unduh PDF ",-1)])]),_:1},8,["loading"])]),e("div",M,[n(i,{class:"p-4 text-center"},{default:a(()=>[t[2]||(t[2]=e("p",{class:"text-sm text-gray-500"},"Total Sehat",-1)),e("h2",q,o(m.value.healthy_websites.total),1),e("p",E,o(m.value.healthy_websites.percent)+"% ",1)]),_:1}),n(i,{class:"p-4 text-center"},{default:a(()=>[t[3]||(t[3]=e("p",{class:"text-sm text-gray-500"},"Total Down",-1)),e("h2",z,o(m.value.down_websites.total),1),e("p",I,o(m.value.down_websites.percent)+"% ",1)]),_:1}),n(i,{class:"p-4 text-center"},{default:a(()=>[t[4]||(t[4]=e("p",{class:"text-sm text-gray-500"},"Response Baik",-1)),e("h2",J,o(p.value.good.count),1),e("p",K,o(p.value.good.average)+" ms ",1)]),_:1}),n(i,{class:"p-4 text-center"},{default:a(()=>[t[5]||(t[5]=e("p",{class:"text-sm text-gray-500"},"Response Buruk",-1)),e("h2",O,o(p.value.poor.count),1),e("p",Q,o(p.value.poor.average)+" ms ",1)]),_:1})]),e("div",X,[e("div",null,[t[6]||(t[6]=e("h3",{class:"text-lg font-medium mb-3 text-gray-700 dark:text-gray-200"}," üîº Website dengan Respons Terbaik ",-1)),e("ul",Y,[(l(!0),c(x,null,b(y.value,r=>(l(),c("li",{key:r.id,class:"flex justify-between items-center p-3 bg-green-50 dark:bg-green-900/30 rounded-lg"},[e("span",Z,o(r.name),1),e("span",ee,o(r.response_time)+" ms ",1)]))),128))])]),e("div",null,[t[7]||(t[7]=e("h3",{class:"text-lg font-medium mb-3 text-gray-700 dark:text-gray-200"}," üîΩ Website dengan Respons Terburuk ",-1)),e("ul",te,[(l(!0),c(x,null,b(f.value,r=>(l(),c("li",{key:r.id,class:"flex justify-between items-center p-3 bg-red-50 dark:bg-red-900/30 rounded-lg"},[e("span",se,o(r.name),1),e("span",oe,o(r.response_time)+" ms ",1)]))),128))])])]),e("div",null,[t[8]||(t[8]=e("h3",{class:"text-lg font-medium mb-3 text-gray-700 dark:text-gray-200"}," ‚ö†Ô∏è Website Sedang Down ",-1)),g.value.length?(l(),u(W,{key:0,websites:g.value},null,8,["websites"])):(l(),c("p",ae,"Tidak ada website down saat ini"))])]),_:1})])])]),_:1})]),_:1})}}});export{xe as default};
