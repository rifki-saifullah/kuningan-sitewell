import{_ as I,a as T,b as N}from"./D9kwdG5X.js";import{_ as R}from"./B9JXikVy.js";import{o as B,s as f,_ as F,a as W}from"./CcMNF4Xq.js";import{_ as A}from"./Bw0gFKXG.js";import{f as C,M as H,R as K,aK as L,aF as V,a3 as M,h as P,o as j,w as s,b as a,a as u,i as t,s as q,d as w}from"#entry";import{_ as G}from"./GVlOEoCD.js";import{_ as Y}from"./BBjs8tJp.js";import{u as z}from"./DRrvH9A1.js";import"./DCPclr-j.js";import"./CAHQj7nW.js";import"./D7nSowku.js";import"./CmeGZb1j.js";const E={class:"container mx-auto p-6"},J={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},O={class:"flex flex-wrap gap-4 justify-end pt-4"},Q={class:"flex flex-col gap-4"},X={class:"space-y-4"},pe=C({__name:"[id]",setup(Z){const m=z(),_=H();K();const p=L(),i=V({name:"",description:"",url:""}),o=V({is_healthy:"",response_time:"",status_code:"",message:"",created_at:"",updated_at:""});M(async()=>{const d=_.params.id;if(await m.findWebsite(d),m.items){const e=m.items;i.name=e.name,i.description=e.description,i.url=e.url,o.is_healthy=e.is_healthy?"Ya":"Tidak",o.response_time=e.response_time.toString(),o.status_code=e.status_code.toString(),o.message=e.message,o.created_at=b(e.created_at),o.updated_at=b(e.updated_at)}});function b(d){const e={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"};return new Date(d).toLocaleDateString("id-ID",e)}const y=B({name:f().min(1,"Name is required"),description:f().min(1,"Description is required"),url:f().url("Invalid URL")});async function U(d){const e=_.params.id;await m.updateWebsite(e,d.data),m.status===200?p.add({title:"Berhasil",description:"Data situs berhasil diperbarui.",color:"success"}):p.add({title:"Gagal",description:m.error||"Tidak dapat memperbarui data situs.",color:"error"})}async function D(){const d=_.params.id;try{await m.deleteWebsite(d),p.add({title:"Dihapus",description:"Data situs telah dihapus.",color:"error"})}catch{p.add({title:"Gagal",description:"Tidak dapat menghapus data situs.",color:"error"})}}return(d,e)=>{const h=T,r=R,n=W,k=A,c=q,x=G,S=F,g=Y,$=I,v=N;return j(),P(v,{class:"min-h-screen bg-gray-50 dark:bg-gray-900"},{default:s(()=>[a($,null,{header:s(()=>[a(h,{title:`Situs ${t(i).name}`},null,8,["title"])]),body:s(()=>[u("section",E,[u("div",J,[a(g,{class:"shadow-md"},{header:s(()=>[...e[9]||(e[9]=[u("h2",{class:"text-lg font-medium"},"Informasi Situs",-1)])]),default:s(()=>[a(S,{schema:t(y),state:t(i),onSubmit:U,class:"space-y-4"},{default:s(()=>[a(n,{label:"Nama",name:"name"},{default:s(()=>[a(r,{modelValue:t(i).name,"onUpdate:modelValue":e[0]||(e[0]=l=>t(i).name=l),class:"w-full"},null,8,["modelValue"])]),_:1}),a(n,{label:"Deskripsi",name:"description"},{default:s(()=>[a(k,{modelValue:t(i).description,"onUpdate:modelValue":e[1]||(e[1]=l=>t(i).description=l),class:"w-full"},null,8,["modelValue"])]),_:1}),a(n,{label:"URL",name:"url"},{default:s(()=>[a(r,{modelValue:t(i).url,"onUpdate:modelValue":e[2]||(e[2]=l=>t(i).url=l),class:"w-full"},null,8,["modelValue"])]),_:1}),u("div",O,[a(c,{type:"submit",color:"primary",variant:"subtle"},{default:s(()=>[...e[10]||(e[10]=[w(" Ubah ",-1)])]),_:1}),a(x,{title:`Hapus Situs ${t(i).name}`,description:""},{body:s(()=>[u("span",Q,[e[12]||(e[12]=u("p",null,"Apakah Anda yakin ingin menghapus situs ini? Tindakan ini tidak dapat dibatalkan.",-1)),a(c,{class:"w-fit self-center",color:"error",variant:"soft",onClick:D},{default:s(()=>[...e[11]||(e[11]=[w(" Hapus ",-1)])]),_:1})])]),default:s(()=>[a(c,{label:"Hapus",color:"error",variant:"subtle"})]),_:1},8,["title"])])]),_:1},8,["schema","state"])]),_:1}),a(g,{class:"shadow-md"},{header:s(()=>[...e[13]||(e[13]=[u("h2",{class:"text-lg font-medium"},"Informasi Status",-1)])]),default:s(()=>[u("div",X,[a(n,{label:"Dapat Diakses"},{default:s(()=>[a(r,{disabled:"",modelValue:t(o).is_healthy,"onUpdate:modelValue":e[3]||(e[3]=l=>t(o).is_healthy=l),class:"w-full"},null,8,["modelValue"])]),_:1}),a(n,{label:"Waktu Respon (ms)"},{default:s(()=>[a(r,{disabled:"",modelValue:t(o).response_time,"onUpdate:modelValue":e[4]||(e[4]=l=>t(o).response_time=l),class:"w-full"},null,8,["modelValue"])]),_:1}),a(n,{label:"Kode Status"},{default:s(()=>[a(r,{disabled:"",modelValue:t(o).status_code,"onUpdate:modelValue":e[5]||(e[5]=l=>t(o).status_code=l),class:"w-full"},null,8,["modelValue"])]),_:1}),a(n,{label:"Keterangan"},{default:s(()=>[a(r,{disabled:"",modelValue:t(o).message,"onUpdate:modelValue":e[6]||(e[6]=l=>t(o).message=l),class:"w-full"},null,8,["modelValue"])]),_:1}),a(n,{label:"Dibuat Pada"},{default:s(()=>[a(r,{disabled:"",modelValue:t(o).created_at,"onUpdate:modelValue":e[7]||(e[7]=l=>t(o).created_at=l),class:"w-full"},null,8,["modelValue"])]),_:1}),a(n,{label:"Diperbarui Pada"},{default:s(()=>[a(r,{disabled:"",modelValue:t(o).updated_at,"onUpdate:modelValue":e[8]||(e[8]=l=>t(o).updated_at=l),class:"w-full"},null,8,["modelValue"])]),_:1})])]),_:1})])])]),_:1})]),_:1})}}});export{pe as default};
