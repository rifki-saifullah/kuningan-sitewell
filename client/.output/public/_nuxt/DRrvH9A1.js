import{u as h}from"./D7nSowku.js";import{aR as l,J as i,R as n}from"#entry";const r=h(),d=l("websiteStore",{state:()=>({isLoading:!1,status:null,error:null,items:null,total:0,currentPage:1,totalPages:1,itemsAsc:null,itemsDesc:null,itemsHealthy:null,itemsResponseTime:null,itemsDown:null}),actions:{async createWebsite(e){const{$axios:t}=i(),a=n();this.isLoading=!0,this.error=null;try{const s=await t.post("/websites",e,{headers:{Authorization:`${r.type} ${r.token}`}});this.status=s.status,this.items=s.data.data,a.push(`/admins/websites/${this.items.id}`)}catch(s){this.status=s.response?.status||500,this.error=s.response?.data?.errors||"Internal server error. Please try again later."}finally{this.isLoading=!1}},async updateWebsite(e,t){const{$axios:a}=i(),s=n();this.isLoading=!0,this.error=null;try{const o=await a.put(`/websites/${e}`,t,{headers:{Authorization:`${r.type} ${r.token}`}});this.status=o.status,this.items=o.data.data,s.push(`/admins/websites/${e}`)}catch(o){this.status=o.response?.status||500,this.error=o.response?.data?.errors||"Internal server error. Please try again later."}finally{this.isLoading=!1}},async getWebsites(e=1){const{$axios:a}=i();this.isLoading=!0,this.error=null;try{const s=await a.get(`/websites?page=${e}&size=10`,{headers:{Authorization:`${r.type} ${r.token}`}});this.status=s.status,this.items=s.data.data,this.total=s.data.meta.total,this.currentPage=s.data.meta.page,this.totalPages=s.data.meta.total_pages}catch(s){this.status=s.response?.status||500,this.error=s.response?.data?.errors||"Internal server error. Please try again later."}finally{this.isLoading=!1}},async findWebsite(e){const{$axios:t}=i();this.isLoading=!0,this.error=null;try{const a=await t.get(`/websites/${e}`,{headers:{Authorization:`${r.type} ${r.token}`}});this.status=a.status,this.items=a.data.data}catch(a){this.status=a.response?.status||500,this.error=a.response?.data?.errors||"Internal server error. Please try again later."}finally{this.isLoading=!1}},async deleteWebsite(e){const{$axios:t}=i(),a=n();this.isLoading=!0,this.error=null;try{const s=await t.delete(`/websites/${e}`,{headers:{Authorization:`${r.type} ${r.token}`}});this.status=s.status,this.items=s.data.data,a.push("/admins/websites")}catch(s){this.status=s.response?.status||500,this.error=s.response?.data?.errors||"Internal server error. Please try again later."}finally{this.isLoading=!1}},async getResponseTimeWebsites(){const{$axios:e}=i();this.isLoading=!0,this.error=null;try{const t=await e.get("/websites/response-time",{headers:{Authorization:`${r.type} ${r.token}`}});this.status=t.status,this.itemsResponseTime=t.data.data}catch(t){this.status=t.response?.status||500,this.error=t.response?.data?.errors||"Internal server error. Please try again later."}finally{this.isLoading=!1}},async getWebsiteAsc(){const{$axios:e}=i();this.isLoading=!0,this.error=null;try{const t=await e.get("/websites/asc",{headers:{Authorization:`${r.type} ${r.token}`}});this.status=t.status,this.itemsAsc=t.data.data}catch(t){this.status=t.response?.status||500,this.error=t.response?.data?.errors||"Internal server error. Please try again later."}finally{this.isLoading=!1}},async getWebsiteDesc(){const{$axios:e}=i();this.isLoading=!0,this.error=null;try{const t=await e.get("/websites/desc",{headers:{Authorization:`${r.type} ${r.token}`}});this.status=t.status,this.itemsDesc=t.data.data}catch(t){this.status=t.response?.status||500,this.error=t.response?.data?.errors||"Internal server error. Please try again later."}finally{this.isLoading=!1}},async checkWebsite(e){const{$axios:t}=i();this.isLoading=!0,this.error=null;try{const a=await t.get(`/websites/${e}/check`,{headers:{Authorization:`${r.type} ${r.token}`}});this.status=a.status,this.items=a.data.data}catch(a){this.status=a.response?.status||500,this.error=a.response?.data?.errors||"Internal server error. Please try again later."}finally{this.isLoading=!1}},async checkAllWebsites(){const{$axios:e}=i();this.isLoading=!0,this.error=null;try{const t=await e.get("/websites/check-all",{headers:{Authorization:`${r.type} ${r.token}`}});this.status=t.status,this.items=t.data.data}catch(t){this.status=t.response?.status||500,this.error=t.response?.data?.errors||"Internal server error. Please try again later."}finally{this.isLoading=!1}},async getHealthyCount(){const{$axios:e}=i();this.isLoading=!0,this.error=null;try{const t=await e.get("/websites/healthy-count",{headers:{Authorization:`${r.type} ${r.token}`}});this.status=t.status,this.itemsHealthy=t.data.data}catch(t){this.status=t.response?.status||500,this.error=t.response?.data?.errors||"Internal server error. Please try again later."}finally{this.isLoading=!1}},async getDownWebsites(){const{$axios:e}=i();this.isLoading=!0,this.error=null;try{const t=await e.get("/websites/down",{headers:{Authorization:`${r.type} ${r.token}`}});this.status=t.status,this.itemsDown=t.data.data}catch(t){this.status=t.response?.status||500,this.error=t.response?.data?.errors||"Internal server error. Please try again later."}finally{this.isLoading=!1}},async printReport(){const{$axios:e}=i();this.isLoading=!0,this.error=null;try{const t=await e.get("/websites/report",{headers:{Authorization:`${r.type} ${r.token}`},responseType:"blob"});this.status=t.status;const a=window.URL.createObjectURL(new Blob([t.data])),s=document.createElement("a");s.href=a,s.setAttribute("download",`website_report_${new Date().toISOString()}.pdf`),document.body.appendChild(s),s.click(),s.remove(),window.URL.revokeObjectURL(a)}catch(t){this.status=t.response?.status||500,this.error=t.response?.data?.errors||"Internal server error. Please try again later."}finally{this.isLoading=!1}}}});export{d as u};
