import{_ as T,a as R,b as B}from"./D9kwdG5X.js";import{f as A,a3 as C,l as d,h as x,o as l,w as a,b as n,a as e,s as F,i as S,d as P,t as o,c,F as u,q as b}from"#entry";import{_ as L}from"./BBjs8tJp.js";import{_ as N}from"./Cnj7wLVX.js";import{u as U}from"./DRrvH9A1.js";import"./DCPclr-j.js";import"./CAHQj7nW.js";import"./D7nSowku.js";import"./GVlOEoCD.js";import"./CmeGZb1j.js";const j={class:"container mx-auto px-6 py-10"},H={class:"max-w-4xl mx-auto"},V={class:"flex items-center justify-between mb-6"},$={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8"},M={class:"text-xl font-semibold text-emerald-600"},q={class:"text-xs text-gray-400"},E={class:"text-xl font-semibold text-red-600 dark:text-red-400"},z={class:"text-xs text-gray-400"},G={class:"text-xl font-semibold text-emerald-600"},I={class:"text-xs text-gray-400"},J={class:"text-xl font-semibold text-amber-600"},K={class:"text-xs text-gray-400"},O={class:"grid md:grid-cols-2 gap-6 mb-8"},Q={class:"space-y-2"},X={class:"font-medium"},Y={class:"text-sm text-gray-500"},Z={class:"space-y-2"},ee={class:"font-medium"},te={class:"text-sm text-gray-500"},se={key:1,class:"text-gray-500 text-center"},ge=A({__name:"reports",setup(oe){const s=U();C(async()=>{const _=[s.getWebsiteAsc().catch(t=>console.error("getWebsiteAsc failed:",t)),s.getWebsiteDesc().catch(t=>console.error("getWebsiteDesc failed:",t)),s.getHealthyCount().catch(t=>console.error("getHealthyCount failed:",t)),s.getResponseTimeWebsites().catch(t=>console.error("getResponseTimeWebsites failed:",t)),s.getDownWebsites().catch(t=>console.error("getDownWebsites failed:",t))];await Promise.all(_)});const y=d(()=>s.itemsAsc??[]),h=d(()=>s.itemsDesc??[]),m=d(()=>s.itemsHealthy??{healthy_websites:{total:0,percent:0},down_websites:{total:0,percent:0}}),p=d(()=>s.itemsResponseTime??{good:{count:0,average:0},poor:{count:0,average:0}}),g=d(()=>s.itemsDown??[]),f=async()=>{try{await s.printReport()}catch(_){console.error("Failed to download PDF:",_)}};return(_,t)=>{const w=R,v=F,i=L,k=N,W=T,D=B;return l(),x(D,{class:"min-h-screen bg-gray-50 dark:bg-gray-900"},{default:a(()=>[n(W,null,{header:a(()=>[n(w,{title:"Laporan Monitoring Website"})]),body:a(()=>[e("section",j,[e("div",H,[n(i,{class:"rounded-2xl shadow-lg border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-950 transition-all hover:shadow-xl"},{default:a(()=>[e("div",V,[t[1]||(t[1]=e("h1",{class:"text-2xl font-semibold text-gray-800 dark:text-gray-100"}," Statistik Laporan ",-1)),n(v,{color:"primary",icon:"i-heroicons-document-arrow-down",loading:S(s).isLoading,onClick:f},{default:a(()=>[...t[0]||(t[0]=[P(" Unduh PDF ",-1)])]),_:1},8,["loading"])]),e("div",$,[n(i,{class:"p-4 text-center"},{default:a(()=>[t[2]||(t[2]=e("p",{class:"text-sm text-gray-500"},"Total Sehat",-1)),e("h2",M,o(m.value.healthy_websites.total),1),e("p",q,o(m.value.healthy_websites.percent)+"% ",1)]),_:1}),n(i,{class:"p-4 text-center"},{default:a(()=>[t[3]||(t[3]=e("p",{class:"text-sm text-gray-500"},"Total Down",-1)),e("h2",E,o(m.value.down_websites.total),1),e("p",z,o(m.value.down_websites.percent)+"% ",1)]),_:1}),n(i,{class:"p-4 text-center"},{default:a(()=>[t[4]||(t[4]=e("p",{class:"text-sm text-gray-500"},"Response Baik",-1)),e("h2",G,o(p.value.good.count),1),e("p",I,o(p.value.good.average)+" ms ",1)]),_:1}),n(i,{class:"p-4 text-center"},{default:a(()=>[t[5]||(t[5]=e("p",{class:"text-sm text-gray-500"},"Response Buruk",-1)),e("h2",J,o(p.value.poor.count),1),e("p",K,o(p.value.poor.average)+" ms ",1)]),_:1})]),e("div",O,[e("div",null,[t[6]||(t[6]=e("h3",{class:"text-lg font-medium mb-3 text-gray-700 dark:text-gray-200"}," üîº Website dengan Respons Terbaik ",-1)),e("ul",Q,[(l(!0),c(u,null,b(y.value,r=>(l(),c("li",{key:r.id,class:"flex justify-between items-center p-3 bg-green-50 dark:bg-green-900/30 rounded-lg"},[e("span",X,o(r.name),1),e("span",Y,o(r.response_time)+" ms ",1)]))),128))])]),e("div",null,[t[7]||(t[7]=e("h3",{class:"text-lg font-medium mb-3 text-gray-700 dark:text-gray-200"}," üîΩ Website dengan Respons Terburuk ",-1)),e("ul",Z,[(l(!0),c(u,null,b(h.value,r=>(l(),c("li",{key:r.id,class:"flex justify-between items-center p-3 bg-red-50 dark:bg-red-900/30 rounded-lg"},[e("span",ee,o(r.name),1),e("span",te,o(r.response_time)+" ms ",1)]))),128))])])]),e("div",null,[t[8]||(t[8]=e("h3",{class:"text-lg font-medium mb-3 text-gray-700 dark:text-gray-200"}," ‚ö†Ô∏è Website Sedang Down ",-1)),g.value.length?(l(),x(k,{key:0,websites:g.value},null,8,["websites"])):(l(),c("p",se,"Tidak ada website down saat ini"))])]),_:1})])])]),_:1})]),_:1})}}});export{ge as default};
